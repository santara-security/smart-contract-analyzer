(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{418:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r,fM:()=>l});let r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")},l=e=>{if(!e||0===e)return"0";let s=parseFloat(e);return s>.999&&s<1.001?"1":s>1.999&&s<2.001?"2":s>2.999&&s<3.001?"3":s.toFixed(2)}},3646:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ee});var r=t(5155),l=t(2115),a=t(5695),n=t(4240);let i=(e,s)=>{let[t,r]=(0,l.useState)(null),[a,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),o=(0,l.useCallback)(async()=>{if(e&&s){n(!0),c(null);try{let t=await fetch("/api/token?tokenAddress=".concat(s,"&chain=").concat(e)),l=await t.json();if(!t.ok)throw Error(l.error||"Failed to fetch token information");r(l)}catch(e){console.error("Fetch error:",e),c(e.message)}finally{n(!1)}}},[e,s]);return(0,l.useEffect)(()=>{o()},[o]),{tokenData:t,loading:a,error:i,retry:(0,l.useCallback)(()=>{o()},[o])}},c=(e,s)=>{let[t,r]=(0,l.useState)(null),[a,n]=(0,l.useState)({high:0,informational:0,low:0,medium:0}),[i,c]=(0,l.useState)(0),[o,d]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),m=(0,l.useRef)(!1),h=(0,l.useRef)(null),p=(0,l.useCallback)(async()=>{if(!e||!s||m.current)return;h.current&&h.current.abort();let t=new AbortController;h.current=t,d(!0),u(null),m.current=!0;try{let l=await fetch("/api/audit?tokenAddress=".concat(s,"&chain=").concat(e),{signal:t.signal}),a=await l.json();if(!l.ok)throw Error(a.error||"Failed to analyze token");let i=null==a?void 0:a.result.results.detectors.reduce((e,s)=>{let t=s.impact.toLowerCase();return e[t]=(e[t]||0)+1,e},{});n(e=>({...e,...i}));let o=Object.values(i).reduce((e,s,t)=>{let r={high:15,medium:5,low:2,informational:0},l=Object.keys(r)[t];return e+s*(r[l]||0)},0);console.log("score: ".concat(o));let d=Math.min(Math.max(100-o,0),100);console.log(d),c(d),r(a)}catch(e){console.error("Error fetching audit analysis:",e),"AbortError"!==e.name&&u(e.message)}finally{d(!1),h.current=null}},[e,s]);return(0,l.useEffect)(()=>(p(),()=>{h.current&&h.current.abort()}),[p]),{analysisData:t,loading:o,error:x,retry:(0,l.useCallback)(()=>{m.current=!1,u(null),r(null),p()},[p]),analysisSummary:a,analysisScore:i}},o=async(e,s)=>{if(!e||!s)throw Error("Invalid contract address or pairs");let t=fetch("/api/honeypot/is_honey_pot?tokenAddress=".concat(e,"&pair=").concat(s.address)),r=fetch("/api/honeypot/top_holders?tokenAddress=".concat(e,"&chain=").concat(s.chain)),[l,a]=await Promise.all([t,r]),[n,i]=await Promise.all([l.json(),a.json()]);return{honeyPot:n,topHolders:i}},d=(e,s)=>{let[t,r]=(0,l.useState)(null),[a,n]=(0,l.useState)(null),[i,c]=(0,l.useState)([]),[d,x]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(null),j=(0,l.useCallback)(async()=>{if(e&&s){x(!0),m(null);try{let t=await fetch("/api/honeypot/getpairs?tokenAddress=".concat(s,"&chain=").concat(e)),l=await t.json();if(!t.ok)throw Error(l.error||"Failed to fetch token information");r(l);let a=l&&l[0]&&l[0].Pair?l[0].Pair.Address:void 0;if(console.log("First pair address:",a),void 0===a)return void m("No pairs found for this token.");let i=await o(s,{address:a,chain:e});c([{...i.honeyPot,pairAddress:a}]),n(i.topHolders)}catch(e){m(e.message)}finally{x(!1)}}},[e,s]);(0,l.useEffect)(()=>{j()},[j]);let b=(0,l.useCallback)(async t=>{if(!s||!t||!e)throw Error("Missing required parameters: contractAddress, pairAddress, or chain");m(null);try{let r={...(await o(s,{address:t,chain:e})).honeyPot,pairAddress:t};return c(e=>{let s=e.findIndex(e=>e.pairAddress===t);if(-1===s)return[...e,r];{let t=[...e];return t[s]=r,t}}),r}catch(e){throw m(e.message),e}finally{x(!1)}},[s,e]);return{honeypotPairs:t,honeypotTopHolders:a,honeyPot:i,loadingHoneypot:d,errorHoneypot:u,retryHoneypot:(0,l.useCallback)(()=>{x(!0),j()},[j]),checkHoneypotWithPair:b}};var x=t(2286);let u=e=>e?new Intl.NumberFormat().format(e):"N/A",m=(e,s)=>{if(!e||!s)return"N/A";let t=Math.pow(10,parseInt(s));return u((BigInt(e)/BigInt(t)).toString())};var h=t(5196),p=t(4357),j=t(4869),b=t(3786);let g=e=>{let{text:s}=e,[t,a]=l.useState(!1),n=async()=>{try{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,r.jsx)("button",{onClick:n,className:"ml-1.5 p-1 text-neutral-400 hover:text-neutral-200 hover:bg-neutral-600/20 rounded transition-all duration-200",title:"Copy to clipboard",children:t?(0,r.jsx)(h.A,{className:"w-2.5 h-2.5 text-green-400"}):(0,r.jsx)(p.A,{className:"w-2.5 h-2.5"})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base";return x.A.find(s=>s.name===e)},v=(e,s)=>"".concat(null==e?void 0:e.explorerUrl,"/token/").concat(s),N=e=>{let{chain:s,contractAddress:t}=e,{tokenData:l,loading:a}=i(s,t),n=f(s),c=v(n,t),o=(null==n?void 0:n.name.toUpperCase())||"Unknown Chain";return(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4 space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200",children:"Contract Details"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400",children:"Network"}),(0,r.jsx)("span",{className:"bg-gradient-to-r from-blue-500/20 to-blue-600/20 text-blue-400 px-2 py-1 rounded-full text-xs font-medium border border-blue-500/30",children:o})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400",children:"Contract Address"}),(0,r.jsxs)("div",{className:"flex items-center bg-neutral-700/40 rounded p-2 border border-neutral-600/30",children:[(0,r.jsx)("span",{className:"font-mono text-xs text-neutral-200 break-all flex-1",children:t}),(0,r.jsx)(g,{text:t})]})]}),a?(0,r.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}):l?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Name"}),(0,r.jsx)("p",{className:"text-xs text-neutral-200 font-medium truncate",children:l.name||"Unknown"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Symbol"}),(0,r.jsx)("span",{className:"bg-gradient-to-r from-purple-500/20 to-purple-600/20 text-purple-400 px-1.5 py-0.5 rounded text-xs font-mono border border-purple-500/30",children:l.symbol||"N/A"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Total Supply"}),(0,r.jsx)("p",{className:"text-xs text-neutral-200 font-mono",children:m(l.total_supply,l.decimals)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Holders"}),(0,r.jsx)("p",{className:"text-xs text-neutral-200 font-medium",children:u(l.holders_count||l.holders)})]})]})]}):(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-neutral-400 text-xs",children:"Token information unavailable"})}),(0,r.jsxs)("div",{className:"pt-3 border-t border-neutral-700/50 space-y-2",children:[(0,r.jsxs)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full px-3 py-2 bg-gradient-to-r from-blue-600/20 to-blue-700/20 text-blue-400 border border-blue-500/30 rounded hover:from-blue-600/30 hover:to-blue-700/30 transition-all duration-200 text-xs font-medium group",children:[(0,r.jsx)(j.A,{className:"w-3 h-3 mr-1.5 group-hover:scale-110 transition-transform"}),"View on Explorer",(0,r.jsx)(b.A,{className:"w-2.5 h-2.5 ml-1.5 opacity-60"})]}),(0,r.jsxs)("a",{href:"https://dexscreener.com/base/".concat(t),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full px-3 py-2 bg-gradient-to-r from-green-600/20 to-green-700/20 text-green-400 border border-green-500/30 rounded hover:from-green-600/30 hover:to-green-700/30 transition-all duration-200 text-xs font-medium group",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1.5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"DexScreener",(0,r.jsx)(b.A,{className:"w-2.5 h-2.5 ml-1.5 opacity-60"})]})]})]})]})};var y=t(2596);let w=e=>{let{status:s}=e;return(0,r.jsxs)("span",{className:(0,y.A)("px-2 py-1 text-xs rounded-full border",(e=>{switch(e.toLowerCase()){case"very_high":return"bg-red-700/20 text-red-500 border-red-700/50";case"high":return"bg-red-600/20 text-red-400 border-red-500/50";case"medium":return"bg-orange-600/20 text-orange-400 border-orange-500/50";case"low":return"bg-green-900/20 text-green-400 border-green-500/50";case"very_low":return"bg-green-600/20 text-green-400 border-green-500/50";case"honeypot":return"bg-pink-600/20 text-pink-400 border-pink-500/50";default:return"bg-neutral-600/20 text-neutral-400 border-neutral-500/50"}})(s)),children:["Risk: ",s]})},k=e=>{let{impact:s}=e;return(0,r.jsx)("span",{className:(0,y.A)("px-2 py-1 text-xs rounded-full border",(e=>{switch(e.toLowerCase()){case"high":return"bg-red-600/20 text-red-400 border-red-500/50";case"medium":return"bg-orange-600/20 text-orange-400 border-orange-500/50";case"low":return"bg-yellow-600/20 text-yellow-400 border-yellow-500/50";case"informational":return"bg-blue-600/20 text-blue-400 border-blue-500/50";default:return"bg-neutral-600/20 text-neutral-400 border-neutral-500/50"}})(s)),children:s})},A=e=>{let{confidence:s}=e;return(0,r.jsxs)("span",{className:(0,y.A)("px-2 py-1 text-xs rounded-full border",(e=>{switch(e.toLowerCase()){case"high":return"bg-green-600/20 text-green-400 border-green-500/50";case"medium":return"bg-yellow-600/20 text-yellow-400 border-yellow-500/50";case"low":return"bg-red-600/20 text-red-400 border-red-500/50";default:return"bg-neutral-600/20 text-neutral-400 border-neutral-500/50"}})(s)),children:["Confidence: ",s]})};var C=t(5525),S=t(1154),L=t(4416),T=t(418);let M=e=>{let{status:s,progress:t=0,children:l}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 ".concat((e=>{switch(e){case"auditLoading":return"text-blue-400";case"success":return"text-green-400";case"error":return"text-red-400";default:return"text-neutral-400"}})(s)),children:l}),(0,r.jsx)("div",{className:"w-full bg-neutral-700/50 rounded-full h-1.5 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full transition-all duration-500 ease-out ".concat((e=>{switch(e){case"auditLoading":return"bg-blue-500";case"success":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-neutral-500"}})(s)," ").concat("auditLoading"===s?"animate-pulse":""),style:{width:"".concat("auditLoading"===s?t:"success"===s?100:100*("error"===s),"%")}})})]})},H=e=>{let{honeyPot:s}=e,[t,a]=l.useState("");if(!s)return null;let{token:n,withToken:i,summary:c,simulationSuccess:o,honeypotResult:d,simulationResult:x,holderAnalysis:u,contractCode:m,chain:h,pair:p}=s;return(0,r.jsx)("div",{className:"mt-4 space-y-4",children:(0,r.jsxs)("div",{className:"p-4 bg-neutral-700/30 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-neutral-200 flex items-center space-x-2",children:[(0,r.jsx)(C.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Honeypot Analysis"})]}),(0,r.jsx)(w,{status:null==c?void 0:c.risk})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(m.openSource?"bg-green-500":"bg-red-500")}),(0,r.jsx)("span",{className:"text-neutral-300",children:m.openSource?"Open Source":"Closed Source"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(m.isProxy?"bg-orange-500":"bg-green-500")}),(0,r.jsx)("span",{className:"text-neutral-300",children:m.isProxy?"Proxy Contract":"Direct Contract"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Buy Tax"}),(0,r.jsxs)("p",{className:"text-xs text-neutral-200 font-medium",children:[(0,T.fM)(x.buyTax),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xs text-neutral-400 block mb-1",children:"Sell Tax"}),(0,r.jsxs)("p",{className:"text-xs text-neutral-200 font-medium",children:[(0,T.fM)(x.sellTax),"%"]})]})]})]})})},P=e=>{var s,t;let{auditLoading:a,error:n,analysisData:i,analysisScore:c,honeyPot:o,honeyPotLoading:d}=e,x=!!(null==i||null==(t=i.result)||null==(s=t.results)?void 0:s.detectors)||null,[u,m]=l.useState(0),[p,j]=l.useState(0);return l.useEffect(()=>{if(a){let e=setInterval(()=>{m(e=>e>=90?90:e+15*Math.random())},500);return()=>clearInterval(e)}m(0)},[a]),l.useEffect(()=>{if(d){let e=setInterval(()=>{j(e=>e>=90?90:e+15*Math.random())},500);return()=>clearInterval(e)}j(0)},[d]),(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Analysis Status"}),(0,r.jsxs)("div",{className:"space-y-4",children:[a&&(0,r.jsxs)(M,{status:"auditLoading",progress:u,children:[(0,r.jsx)(S.A,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm",children:"Analyzing contract security..."})]}),!a&&n&&(0,r.jsxs)(M,{status:"error",children:[(0,r.jsx)(L.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Error analyzing contract"})]}),!a&&!n&&i&&(0,r.jsxs)(M,{status:"success",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Contract Analysis Complete"})]}),d&&(0,r.jsxs)(M,{status:"auditLoading",progress:p,children:[(0,r.jsx)(S.A,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm",children:"Checking Honeypot status..."})]}),!d&&o&&o.length>0&&(0,r.jsxs)(M,{status:"success",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Honeypot Check Complete"})]}),!d&&o&&0===o.length&&(0,r.jsxs)(M,{status:"error",children:[(0,r.jsx)(L.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"No Honeypot detected"})]}),!d&&!o&&(0,r.jsxs)(M,{status:"error",children:[(0,r.jsx)(L.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Honeypot Check Failed"})]}),!a&&!n&&x&&i&&void 0!==c&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-neutral-700/30 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-neutral-200 mb-3",children:"Security Score:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-neutral-200",children:[c,"/100"]}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat(c>=80?"text-green-400":c>=60?"text-yellow-400":c>=40?"text-orange-400":"text-red-400"),children:c>=80?"Excellent":c>=60?"Good":c>=40?"Fair":"Poor"})]}),(0,r.jsx)("div",{className:"w-full bg-neutral-600/50 rounded-full h-2 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full transition-all duration-1000 ease-out ".concat(c>=80?"bg-green-500":c>=60?"bg-yellow-500":c>=40?"bg-orange-500":"bg-red-500"),style:{width:"".concat(c,"%")}})}),(0,r.jsx)("p",{className:"text-xs text-neutral-400",children:c>=80?"This contract shows strong security practices with minimal risks.":c>=60?"This contract has good security but may have some minor issues.":c>=40?"This contract has moderate security concerns that should be reviewed.":"This contract has significant security issues that require immediate attention."})]})]}),!d&&o&&o.length>0&&(0,r.jsx)(H,{honeyPot:o[0]})]})]})};var F=t(8240),E=t(5405);let R=e=>{var s;let{detector:t,index:a}=e,[n,i]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"bg-neutral-800/50 rounded-lg p-4 border border-neutral-700/50",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-neutral-400 text-sm",children:["#",a+1]}),(0,r.jsx)(k,{impact:t.impact}),(0,r.jsx)(A,{confidence:t.confidence})]}),(0,r.jsx)("button",{onClick:()=>i(!n),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:n?"Hide Details":"Show Details"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{className:"text-neutral-200 font-medium mb-2",children:(0,r.jsx)("span",{className:"text-blue-400 font-mono text-sm",children:t.check})}),(0,r.jsx)("div",{className:"text-neutral-300 text-sm leading-relaxed prose prose-invert prose-sm max-w-none",children:(0,r.jsx)(F.oz,{remarkPlugins:[E.A],components:{p:e=>{let{children:s}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:s})},a:e=>{let{href:s,children:t}=e;return(0,r.jsx)("a",{href:s,className:"text-blue-400 hover:text-blue-300 underline",target:"_blank",rel:"noopener noreferrer",children:t})},code:e=>{let{children:s}=e;return(0,r.jsx)("code",{className:"bg-neutral-700/50 px-1 py-0.5 rounded text-xs font-mono text-neutral-200",children:s})},ul:e=>{let{children:s}=e;return(0,r.jsx)("ul",{className:"list-disc pl-4 mb-2",children:s})},li:e=>{let{children:s}=e;return(0,r.jsx)("li",{className:"mb-1",children:s})}},children:t.markdown||t.description})})]}),n&&(0,r.jsxs)("div",{className:"border-t border-neutral-700 pt-3 mt-3",children:[(0,r.jsx)("h5",{className:"text-neutral-200 font-medium mb-2",children:"Affected Elements:"}),(0,r.jsx)("div",{className:"space-y-2",children:null==(s=t.elements)?void 0:s.map((e,s)=>(0,r.jsxs)("div",{className:"bg-neutral-700/30 rounded p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsxs)("span",{className:"text-blue-400 text-sm font-medium",children:[e.type,":"]}),(0,r.jsx)("span",{className:"text-neutral-200 font-mono text-sm",children:e.name})]}),e.source_mapping&&(0,r.jsxs)("div",{className:"text-xs text-neutral-400 space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"File:"})," ",e.source_mapping.filename_short]}),e.source_mapping.lines&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Lines:"})," ",e.source_mapping.lines.slice(0,5).join(", "),e.source_mapping.lines.length>5&&"..."]})]})]},s))})]})]})},_=e=>{let{detectors:s}=e,t=s.reduce((e,s)=>{let t=s.impact.toLowerCase();return e[t]=(e[t]||0)+1,e},{});return(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Security Analysis Summary"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(t).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-neutral-200",children:t}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(k,{impact:s})})]},s)})}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-neutral-400 pb-3",children:["Total findings:"," ",(0,r.jsx)("span",{className:"font-medium text-neutral-200",children:s.length})]}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 border-t border-neutral-700 pt-3",children:(0,r.jsx)("p",{children:"This contract has been analyzed for security vulnerabilities using Slither static analysis. The analysis covers common security issues and coding best practices."})})]})},z=e=>{var s,t;let{analysisData:a,activeTab:n}=e;if("audit"!==n)return null;let[i,c]=(0,l.useState)("all"),[o,d]=(0,l.useState)("impact");if(!(null==a||null==(t=a.result)||null==(s=t.results)?void 0:s.detectors))return(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Analysis Results"}),(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-neutral-400",children:"No analysis data available"})})]});let x=a.result.results.detectors,u=x.filter(e=>"all"===i||e.impact.toLowerCase()===i),m=[...u].sort((e,s)=>{if("impact"===o){let t={high:4,medium:3,low:2,informational:1};return(t[s.impact.toLowerCase()]||0)-(t[e.impact.toLowerCase()]||0)}return 0});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(_,{detectors:x}),(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-200",children:["Security Findings (",u.length,")"]}),(0,r.jsx)("div",{className:"flex gap-3",children:(0,r.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"bg-neutral-700 border border-neutral-600 rounded px-3 py-1 text-sm text-neutral-200",children:[(0,r.jsx)("option",{value:"all",children:"All Impact Levels"}),(0,r.jsx)("option",{value:"high",children:"High"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"informational",children:"Informational"})]})})]}),0===m.length?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-neutral-400",children:"No findings match the current filter"})}):(0,r.jsx)("div",{className:"space-y-4",children:m.map((e,s)=>(0,r.jsx)(R,{detector:e,index:s},e.id||s))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-neutral-700",children:(0,r.jsxs)("div",{className:"text-xs text-neutral-400 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Analysis File:"})," ",(0,r.jsx)("span",{className:"font-mono",children:a.filePath})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Contract:"})," ",a.tokenAddress," (",a.chain,")"]})]})})]})]})},B=e=>{let{type:s="button",onClick:t,children:l,disabled:a=!1,variant:n="primary",className:i=""}=e;return(0,r.jsx)("button",{type:s,onClick:t,disabled:a,className:"".concat("font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200"," ").concat({primary:"bg-blue-500 hover:bg-blue-700 text-white disabled:bg-blue-300 disabled:cursor-not-allowed",secondary:"bg-neutral-600 hover:bg-neutral-700 text-white disabled:bg-neutral-400 disabled:cursor-not-allowed"}[n]," ").concat(i),children:l})},D=e=>{let{error:s,onRetry:t}=e;return s?(0,r.jsxs)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Analysis Error"}),(0,r.jsx)("p",{className:"text-red-300",children:s}),(0,r.jsx)(B,{onClick:t,className:"mt-3",children:"Retry Analysis"})]}):null},I=e=>{let{chain:s,contractAddress:t,auditLoading:l,error:a,analysisData:n,analysisSummary:i,analysisScore:c,honeyPot:o,honeyPotLoading:d}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(N,{chain:s,contractAddress:t}),(0,r.jsx)(P,{error:a,analysisData:n,analysisSummary:i,analysisScore:c,auditLoading:l,honeyPot:o,honeyPotLoading:d})]})},O=e=>{let{isHoneypot:s,simulationSuccess:t}=e;return!1===t?(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full border bg-neutral-600/20 text-neutral-400 border-neutral-500/50",children:"Simulation Failed"}):(0,r.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full border ".concat(s?"bg-red-600/20 text-red-400 border-red-500/50":"bg-green-600/20 text-green-400 border-green-500/50"),children:["Status: ",s?"Honeypot":"Safe"]})},G=e=>e&&2===e.length?e.map(e=>{let s=parseFloat(e);return s>=1e18?(s/1e18).toFixed(2)+"E":s>=1e15?(s/1e15).toFixed(2)+"P":s>=1e12?(s/1e12).toFixed(2)+"T":s>=1e9?(s/1e9).toFixed(2)+"B":s>=1e6?(s/1e6).toFixed(2)+"M":s.toFixed(2)}).join(" / "):"N/A",W=e=>e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):e>=1e3?"$".concat((e/1e3).toFixed(2),"K"):"$".concat((null==e?void 0:e.toFixed(2))||0),U=e=>new Date(1e3*e).toLocaleDateString(),V=e=>{var s,t,a,n,i,c,o;let{pair:d,index:x,onAnalyze:u,honeypotResult:m,isLoading:h,isFirstItem:p}=e,[j,b]=(0,l.useState)(p||!1);return(0,r.jsxs)("div",{className:"bg-neutral-800/50 rounded-lg p-4 border border-neutral-700/50",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-neutral-400 text-sm",children:["#",x+1]}),(0,r.jsx)("span",{className:"text-blue-400 font-mono text-sm",children:(null==(s=d.Pair)?void 0:s.Name)||"Unknown Pair"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[m&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(O,{isHoneypot:null==(t=m.honeypotResult)?void 0:t.isHoneypot,simulationSuccess:m.simulationSuccess})}),(0,r.jsx)("button",{onClick:()=>{if(!m&&!h&&!p){var e;u(null==(e=d.Pair)?void 0:e.Address)}b(!j)},disabled:h,className:"text-blue-400 hover:text-blue-300 text-sm font-medium disabled:opacity-50",children:h?"Analyzing...":j?"Hide Details":"Show Details"})]})]}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Liquidity:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-medium",children:W(d.Liquidity)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Reserves:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-mono text-xs",children:G(d.Reserves)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Created:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2",children:U(d.CreatedAtTimestamp)})]})]})}),j&&(0,r.jsxs)("div",{className:"border-t border-neutral-700 pt-3 mt-3",children:[!m&&!h&&!p&&(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("button",{onClick:()=>{var e;return u(null==(e=d.Pair)?void 0:e.Address)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Analyze Honeypot Risk"})}),h&&(0,r.jsxs)("div",{className:"text-center py-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm",children:"Analyzing pair for honeypot risks..."})]}),m&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"text-neutral-200 font-medium mb-2",children:"Trading Analysis:"}),(0,r.jsx)("div",{className:"bg-neutral-700/30 rounded p-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Buy Tax:"}),(0,r.jsxs)("span",{className:"text-neutral-200 ml-2 font-medium",children:[(0,T.fM)(null==(a=m.simulationResult)?void 0:a.buyTax),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Sell Tax:"}),(0,r.jsxs)("span",{className:"text-neutral-200 ml-2 font-medium",children:[(0,T.fM)(null==(n=m.simulationResult)?void 0:n.sellTax),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Buy Gas:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-mono text-xs",children:(null==(i=m.simulationResult)?void 0:i.buyGas)||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Sell Gas:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-mono text-xs",children:(null==(c=m.simulationResult)?void 0:c.sellGas)||"N/A"})]})]})})]}),m.holderAnalysis&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"text-neutral-200 font-medium mb-2",children:"Holder Analysis:"}),(0,r.jsx)("div",{className:"bg-neutral-700/30 rounded p-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Total Holders:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-medium",children:m.holderAnalysis.holders})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Successful:"}),(0,r.jsx)("span",{className:"text-green-400 ml-2 font-medium",children:m.holderAnalysis.successful})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Failed:"}),(0,r.jsx)("span",{className:"text-red-400 ml-2 font-medium",children:m.holderAnalysis.failed})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-neutral-400",children:"Avg Gas:"}),(0,r.jsx)("span",{className:"text-neutral-200 ml-2 font-mono text-xs",children:Math.round(m.holderAnalysis.averageGas||0)})]})]})})]}),m.flags&&m.flags.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"text-neutral-200 font-medium mb-2",children:"Risk Flags:"}),(0,r.jsx)("div",{className:"space-y-2",children:m.flags.map((e,s)=>(0,r.jsx)("div",{className:"bg-orange-600/10 border border-orange-500/30 rounded p-2",children:(0,r.jsx)("span",{className:"text-orange-400 text-sm",children:e})},s))})]}),(0,r.jsxs)("div",{className:"text-xs text-neutral-400 space-y-1 border-t border-neutral-700 pt-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Pair Address:"})," ",(0,r.jsx)("span",{className:"font-mono",children:null==(o=d.Pair)?void 0:o.Address})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Router:"})," ",(0,r.jsx)("span",{className:"font-mono",children:d.Router})]}),d.CreationTxHash&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Creation Tx:"})," ",(0,r.jsx)("span",{className:"font-mono text-xs",children:d.CreationTxHash})]})]})]})]})]})},q=e=>{var s,t,l,a,n;let{honeyPot:i,totalPairs:c}=e;if(!i)return null;let o=Array.isArray(i)?i[0]:i;o.summary;let d=o.simulationResult||{};return(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Honeypot Analysis Summary"}),(0,r.jsx)("div",{className:"mb-4 pb-4 border-b border-neutral-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsxs)("h4",{className:"text-neutral-200 font-medium",children:[null==(s=o.token)?void 0:s.name," (",null==(t=o.token)?void 0:t.symbol,")"]}),(0,r.jsx)(O,{isHoneypot:null==(l=o.honeypotResult)?void 0:l.isHoneypot,simulationSuccess:o.simulationSuccess})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-neutral-200",children:[(0,T.fM)(d.buyTax),"%"]}),(0,r.jsx)("div",{className:"text-xs text-neutral-400",children:"Buy Tax"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-neutral-200",children:[(0,T.fM)(d.sellTax),"%"]}),(0,r.jsx)("div",{className:"text-xs text-neutral-400",children:"Sell Tax"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-neutral-200",children:(null==(n=o.token)||null==(a=n.totalHolders)?void 0:a.toLocaleString())||"N/A"}),(0,r.jsx)("div",{className:"text-xs text-neutral-400",children:"Total Holders"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-neutral-200",children:c}),(0,r.jsx)("div",{className:"text-xs text-neutral-400",children:"Trading Pairs"})]})]}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 border-t border-neutral-700 pt-3",children:(0,r.jsx)("p",{children:"This token has been analyzed for honeypot characteristics across multiple trading pairs. The analysis includes transaction simulation, holder behavior analysis, and smart contract inspection."})})]})},$=e=>{let{honeypotPairs:s,honeypotTopHolders:t,honeyPot:a,loadingHoneypot:n,errorHoneypot:i,retryHoneypot:c,checkHoneypotWithPair:o,activeTab:d}=e;if("honeypot"!==d)return null;let[x,u]=(0,l.useState)({}),[m,h]=(0,l.useState)({}),p=(e,s)=>0===s&&a?Array.isArray(a)?a[0]:a:x[e],j=async e=>{if(e&&!m[e]){h(s=>({...s,[e]:!0}));try{let s=await o(e);u(t=>({...t,[e]:s}))}catch(e){console.error("Error analyzing pair:",e)}finally{h(s=>({...s,[e]:!1}))}}};return n?(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Honeypot Analysis"}),(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-neutral-400",children:"Analyzing token for honeypot characteristics..."})]})]}):i?(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Honeypot Analysis"}),(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-red-400 mb-4",children:"Failed to load honeypot analysis"}),(0,r.jsx)("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Retry Analysis"})]})]}):s&&0!==s.length?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(q,{honeyPot:a,totalPairs:s.length}),(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-200",children:["Trading Pairs Analysis (",s.length,")"]})}),(0,r.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>{var t,l,a;return(0,r.jsx)(V,{pair:e,index:s,onAnalyze:j,honeypotResult:p(null==(t=e.Pair)?void 0:t.Address,s),isLoading:m[null==(l=e.Pair)?void 0:l.Address],isFirstItem:0===s},(null==(a=e.Pair)?void 0:a.Address)||s)})}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-neutral-700",children:(0,r.jsx)("div",{className:"text-xs text-neutral-400 space-y-1",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Note:"}),' Click "Show Details" on any pair to analyze it for honeypot characteristics. Analysis includes transaction simulation, tax calculation, and holder behavior patterns.']})})})]})]}):(0,r.jsxs)("div",{className:"bg-neutral-800/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200 mb-4",children:"Honeypot Analysis"}),(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-neutral-400",children:"No trading pairs found for analysis"})})]})},Z=e=>{let{active:s,onClick:t,children:l}=e;return(0,r.jsx)("button",{onClick:t,className:"px-4 py-2 font-medium text-sm rounded-lg transition-colors cursor-pointer ".concat(s?"bg-blue-600 text-white":"bg-neutral-700/50 text-neutral-300 hover:bg-neutral-700 hover:text-neutral-200"),children:l})},K=()=>(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mr-3"}),(0,r.jsx)("span",{className:"text-neutral-400",children:"Loading Chart..."})]}),J=e=>{let{onRetry:s}=e;return(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsxs)("div",{className:"text-red-400 mb-4",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsx)("p",{className:"text-neutral-400 mb-4",children:"Failed to load Chart"})]}),(0,r.jsx)("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Retry"})]})},Q=e=>{let{isFullscreen:s,onToggleFullscreen:t,onRefresh:l,onOpenExternal:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-neutral-200",children:"Token Price Chart"})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:l,className:"p-2 text-neutral-400 hover:text-neutral-200 hover:bg-neutral-700/50 rounded-lg transition-colors",title:"Refresh Chart",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,r.jsx)("button",{onClick:a,className:"p-2 text-neutral-400 hover:text-neutral-200 hover:bg-neutral-700/50 rounded-lg transition-colors",title:"Open in New Tab",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,r.jsx)("button",{onClick:t,className:"p-2 text-neutral-400 hover:text-neutral-200 hover:bg-neutral-700/50 rounded-lg transition-colors",title:s?"Close Popup":"Open in Popup",children:s?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9V4.5M9 9H4.5M9 9L3.5 3.5M15 9v-4.5M15 9h4.5M15 9l5.5-5.5M9 15v4.5M9 15H4.5M9 15l-5.5 5.5M15 15v4.5M15 15h4.5m0 0l5.5 5.5"})}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://dexscreener.com/base/".concat(e,"?embed=1&loadChartSettings=0&trades=0&tabs=0&info=0&chartLeftToolbar=0&chartDefaultOnMobile=1&chartTheme=dark&theme=dark&chartStyle=0&chartType=usd&interval=15")},Y=e=>{let{contractAddress:s}=e,[t,a]=(0,l.useState)(!0),[i,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{a(!0),c(!1)},[s]),(0,l.useEffect)(()=>()=>{x&&!x.closed&&x.close()},[x]);let h=()=>{if(o&&x)x.close(),u(null),d(!1);else{let e=window.open(X(s),"chart-fullscreen","width=1200,height=800,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no");if(e){u(e),d(!0);let s=setInterval(()=>{e.closed&&(clearInterval(s),d(!1),u(null))},1e3)}}};return(0,r.jsxs)(n.Z,{className:"!p-4",children:[(0,r.jsx)(Q,{isFullscreen:o,onToggleFullscreen:h,onRefresh:()=>{m.current&&(m.current.src=m.current.src)},onOpenExternal:()=>{window.open(X(s),"_blank","noopener,noreferrer")}}),(0,r.jsxs)("div",{className:"relative bg-neutral-900/50 rounded-lg border border-neutral-600/50 overflow-hidden transition-all duration-300 h-[600px]",children:[t&&(0,r.jsx)("div",{className:"absolute inset-0 bg-neutral-800/90 backdrop-blur-sm flex items-center justify-center z-10",children:(0,r.jsx)(K,{})}),i?(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(J,{onRetry:()=>{a(!0),c(!1),m.current&&(m.current.src=X(s))}})}):(0,r.jsx)("iframe",{ref:m,src:X(s),className:"w-full h-full border-0",onLoad:()=>{a(!1),c(!1)},onError:()=>{a(!1),c(!0)},title:"Chart for ".concat(s),allow:"fullscreen",sandbox:"allow-scripts allow-same-origin allow-popups",loading:"lazy"}),o&&(0,r.jsx)("div",{className:"absolute inset-0 bg-neutral-800/90 backdrop-blur-sm flex items-center justify-center z-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-neutral-200 mb-4",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Chart opened in popup window"}),(0,r.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:"The interactive chart is now displayed in a larger window for better analysis"})]}),(0,r.jsx)("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Close Popup"})]})})]})]})};function ee(e){var s;let{params:t}=e;(0,a.useRouter)();let[o,x]=(0,l.useState)(null),[u,m]=(0,l.useState)("chart");(0,l.useEffect)(()=>{(async()=>{x(await t)})()},[t]);let{analysisData:h,loading:p,error:j,retry:g,analysisSummary:f,analysisScore:v}=c(null==o?void 0:o.chain,null==o?void 0:o.contractAddress),{tokenData:N,loading:y,error:w,retry:k}=i(null==o?void 0:o.chain,null==o?void 0:o.contractAddress),{honeypotPairs:A,honeypotTopHolders:C,honeyPot:S,loadingHoneypot:L,errorHoneypot:T,retryHoneypot:M,checkHoneypotWithPair:H}=d(null==o?void 0:o.chain,null==o?void 0:o.contractAddress);return(s=(null==N?void 0:N.symbol)?"".concat(null==N?void 0:N.symbol," - Smart Contract Analysis"):"Smart Contract Analysis",(0,l.useEffect)(()=>{s&&(document.title=s)},[s]),o)?(0,r.jsx)("div",{className:"bg-transparent z-10 flex flex-col px-8 py-12 gap-8 mt-16 max-w-7xl mx-auto",children:(0,r.jsx)("section",{className:"w-full",children:(0,r.jsx)("div",{className:"!bg-none !backdrop-blur-lg",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(I,{chain:o.chain,contractAddress:o.contractAddress,auditLoading:p,error:j,analysisData:h,analysisSummary:f,analysisScore:v,honeyPot:S,honeyPotLoading:L}),(0,r.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,r.jsx)(Z,{active:"chart"===u,onClick:()=>m("chart"),children:"Chart"}),(0,r.jsx)(Z,{active:"honeypot"===u,onClick:()=>m("honeypot"),children:"Honeypot Check"}),(0,r.jsx)(Z,{active:"audit"===u,onClick:()=>m("audit"),children:"Smart Contract Audit"}),(0,r.jsxs)(Z,{active:"other"===u,onClick:()=>{window.open("/audit/".concat(o.chain,"/").concat(o.contractAddress,"/ide"),"_blank")},children:["View Source Code",(0,r.jsx)(b.A,{size:16,className:"inline ml-1 align-text-bottom"})]})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"chart"===u?"block":"hidden",children:(0,r.jsx)(Y,{contractAddress:o.contractAddress})}),(0,r.jsx)("div",{className:"honeypot"===u?"block":"hidden",children:(0,r.jsx)($,{honeypotPairs:A,honeypotTopHolders:C,honeyPot:S,loadingHoneypot:L,errorHoneypot:T,retryHoneypot:M,checkHoneypotWithPair:H,activeTab:u})})]}),"audit"===u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{analysisData:h,activeTab:u}),(0,r.jsx)(D,{error:j,onRetry:g})]})]})})})}):(0,r.jsx)("div",{className:"bg-transparent z-10 flex flex-col px-8 py-12 gap-8 mt-16 max-w-7xl mx-auto",children:(0,r.jsx)("section",{className:"w-full",children:(0,r.jsx)(n.Z,{title:"Loading...",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})})})})}},4127:(e,s,t)=>{Promise.resolve().then(t.bind(t,3646))}},e=>{var s=s=>e(e.s=s);e.O(0,[847,51,441,684,358],()=>s(4127)),_N_E=e.O()}]);